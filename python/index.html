<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Calculateur de CI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/static/style.css">
  </head>

  <body>
    <div class="header">
      <h3>Calculateur de CI simplifié</h3>
    </div>

    <div class="container">
      <form action="/" method="post">
        <p>
          <span title="Autrement dit, il s'agit du nombre de préparations.">Nombre de cours distincts :&nbsp
            <select name="nprep" value= {{ nprep }} onchange='this.form.submit()'>
              {% if nprep == 0 %}
              <option value=0 selected>0</option>
              {% else %}
              <option value=0>0</option>
              {% endif %}
              {% if nprep == 1 %}
              <option value=1 selected>1</option>
              {% else %}
              <option value=1>1</option>
              {% endif %}
              {% if nprep == 2 %}
              <option value=2 selected>2</option>
              {% else %}
              <option value=2>2</option>
              {% endif %}
              {% if nprep == 3 %}
              <option value=3 selected>3</option>
              {% else %}
              <option value=3>3</option>
              {% endif %}
              {% if nprep == 4 %}
              <option value=4 selected>4</option>
              {% else %}
              <option value=4>4</option>
              {% endif %}
            </select>
          </span>
        </p>
        {% for i in range(nprep) %}
        <p>
          Cours
          {% print i+1 %} :&nbsp
          <span title="Nombre d'heures de ce cours pour toute la session, et pour chaque groupe.">
            <select name= {{ inputnames[i][0] }} value= {{ inputs[i][0] }} onchange='this.form.submit()'>
              {% if inputs[i][0] == 30 %}
              <option value=30 selected>30 périodes</option>
              {% else %}
              <option value=30>30 périodes</option>
              {% endif %}
              {% if inputs[i][0] == 45 %}
              <option value=45 selected>45 périodes</option>
              {% else %}
              <option value=45>45 périodes</option>
              {% endif %}
              {% if inputs[i][0] == 60 %}
              <option value=60 selected>60 périodes</option>
              {% else %}
              <option value=60>60 périodes</option>
              {% endif %}
              {% if inputs[i][0] == 75 %}
              <option value=75 selected>75 périodes</option>
              {% else %}
              <option value=75>75 périodes</option>
              {% endif %}
              {% if inputs[i][0] == 90 %}
              <option value=90 selected>90 périodes</option>
              {% else %}
              <option value=90>90 périodes</option>
              {% endif %}
              {% if inputs[i][0] == 105 %}
              <option value=105 selected>105 périodes</option>
              {% else %}
              <option value=105>105 périodes</option>
              {% endif %}
            </select>
          </span>
          &nbsp
          <span title="Nombre de groupes pour ce cours.">
            <select name= {{ inputnames[i][1] }} value= {{ inputs[i][1] }} onchange='this.form.submit()'>
              {% if inputs[i][1] == 1 %}
              <option value=1 selected>1 groupe</option>
              {% else %}
              <option value=1>1 groupe</option>
              {% endif %}
              {% if inputs[i][1] == 2 %}
              <option value=2 selected>2 groupes</option>
              {% else %}
              <option value=2>2 groupes</option>
              {% endif %}
              {% if inputs[i][1] == 3 %}
              <option value=3 selected>3 groupes</option>
              {% else %}
              <option value=3>3 groupes</option>
              {% endif %}
              {% if inputs[i][1] == 4 %}
              <option value=4 selected>4 groupes</option>
              {% else %}
              <option value=4>4 groupes</option>
              {% endif %}
            </select>
          </span>
          &nbsp
          <span title="Nombre total d'étudiants pour ce cours, tous groupes confondus.">
            <input
              type="text"
              title="Nombre total d'étudiants pour ce cours, tous groupes confondus."
              pattern="[0-9]*"
              name= {{ inputnames[i][2] }}
              value= {{ inputs[i][2] }}
              onblur="if(this.value == '') { this.value= {{ inputs[i][2] }} }"
              onfocus="if (this.value == {{ inputs[i][2] }}) {this.value=''}"
              onchange='this.form.submit()'>
          </span>
          <span style="font-size: 12px;">
            étudiants
          </span>
        </p>
        {% endfor %}
        <p>
          <b>CI = {{ CIp }}</b>
        </p>
      </form>
    </div>

    <div class="footer">
      <p>Cette application  <a href="https://www.python.org/" target="_blank">Python</a> utilise <a href="http://flask.pocoo.org/" target="_blank">Flask</a> et <a href="http://jinja.pocoo.org/docs/dev/" target="_blank">Jinja2</a>. Elle est hébergée sur <a href="https://cloud.google.com/" target="_blank">Google Cloud Platform</a> et déployée à l'aide de <a href="https://cloud.google.com/appengine/docs/" target="_blank">Google App Engine</a>.</p>
    </div>

  </body>
</html>
